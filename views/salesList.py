#!/usr/bin/env python
# -*- coding: us-ascii -*-
# generated by wxGlade 0.6.3 on Sun Sep 27 17:16:00 2009

import wx
from controllers.salesList import SalesList

# begin wxGlade: extracode
# end wxGlade



class SalesListView(wx.Panel):
    def __init__(self, parent, id):
        # begin wxGlade: SalesListView.__init__
        wx.Panel.__init__(self, parent, id)
        
        self.controller = SalesList()
        self.controller.get_sales()
        self.controller.get_total_products()
        self.controller.get_total_all()
        #self.controller.get_price_product_all()
        #self.controller.get_amount_product_all()
        #self.controller.get_subtotal_all()
        #self.controller.get_tax_product_all()
        #self.controller.get_tax_value_all()
        #self.controller.get_price_discount_all()
        #self.controller.get_sale_price()
                
        self.l_venta = wx.StaticText(self, -1, "Ventas")
        self.lc_saleslist = wx.ListCtrl(self, -1, style=wx.LC_REPORT|wx.SUNKEN_BORDER)
        self.lc_saleslist.InsertColumn(0,'') 
        self.lc_saleslist.InsertColumn(1,'')
        self.lc_saleslist.InsertColumn(2,'SKU')
        self.lc_saleslist.InsertColumn(3,'Venta')
        self.lc_saleslist.InsertColumn(4,'Productos')
        self.lc_saleslist.InsertColumn(5,'Total')
        self.lc_saleslist.SetColumnWidth(0, 50)
        self.lc_saleslist.SetColumnWidth(1, 50)
        self.lc_saleslist.SetColumnWidth(2, 130)
        self.lc_saleslist.SetColumnWidth(3, 210)
        self.lc_saleslist.SetColumnWidth(4, 100)
        self.lc_saleslist.SetColumnWidth(5, 200)
        
        self.OnList()
        
        self.__set_properties()
        self.__do_layout()
        # end wxGlade

    def __set_properties(self):
        # begin wxGlade: SalesListView.__set_properties
        self.l_venta.SetFont(wx.Font(20, wx.DEFAULT, wx.NORMAL, wx.BOLD, 0, ""))
        # end wxGlade

    def __do_layout(self):
        # begin wxGlade: SalesListView.__do_layout
        s_saleslist = wx.BoxSizer(wx.VERTICAL)
        s_saleslist.Add(self.l_venta, 0, wx.ALL, 10)
        s_saleslist.Add(self.lc_saleslist, 1, wx.EXPAND, 10)
        self.SetSizer(s_saleslist)
        s_saleslist.Fit(self)
        # end wxGlade

    def OnList(self):
        for i in range(0, len(self.controller.sales)):
            index = self.lc_saleslist.InsertStringItem(0, '')
            self.lc_saleslist.SetStringItem(index,1, '')
            self.lc_saleslist.SetStringItem(index,2, unicode(self.controller.sales[i][1]))
            self.lc_saleslist.SetStringItem(index,3, unicode(self.controller.sales[i][2]))
            self.lc_saleslist.SetStringItem(index,4, unicode(self.controller.total_products[i]['amount__sum']))
            self.lc_saleslist.SetStringItem(index,5, unicode(self.controller.total[i]))
# end of class SalesListView


